<!DOCTYPE html>
<html>
<head>
    <title>Search Residents by Name</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
      <a href="/" class="btn btn-secondary mb-3">Home</a>
      <h2 class="mb-4 text-center">Search Residents by Name or Surname</h2>
      <form method="get" action="/search-resident">
          <input type="hidden" name="search_type" value="name">
          <div class="mb-3">
              <label for="query" class="form-label">Name or Surname</label>
              <input type="text" name="query" id="query" class="form-control" placeholder="Enter name or surname" value="{{ query|default('') }}">
          </div>
          <button type="submit" class="btn btn-primary">Search</button>
      </form>
      {% if results %}
        <div class="mt-4">
          <h4>Results:</h4>
          <ul class="list-group">
            {% for resident in results %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ resident.first_name }} {{ resident.last_name }} - {{ resident.village }}
                <div>
                    <a href="/view-resident/{{ resident.id }}" class="btn btn-info btn-sm me-1">View</a>
                    <a href="/edit-resident/{{ resident.id }}" class="btn btn-warning btn-sm">Edit</a>
                </div>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      {% if message %}
        <div class="alert alert-warning mt-4" role="alert">
          {{ message }}
        </div>
      {% endif %}
      {% if results is not none and results|length == 0 %}
        <div class="alert alert-info mt-4" role="alert">
          No residents found matching your search criteria.
        </div>
      {% endif %}
  </div>
</body>
</html>