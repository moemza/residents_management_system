<!DOCTYPE html>
<html>
<head>
    <title>Search Residents by Village</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
      <a href="/" class="btn btn-secondary mb-3">Home</a>
      <h2 class="mb-4 text-center">Search Residents by Village</h2>
      <form method="get" action="/search-resident">
          <input type="hidden" name="search_type" value="village">
          <div class="mb-3">
              <label for="query" class="form-label">Village</label>
              <select name="query" id="query" class="form-select">
                  {% for village in villages %}
                      <option value="{{ village }}" {% if village == query %}selected{% endif %}>{{ village }}</option>
                  {% endfor %}
              </select>
          </div>
          <button type="submit" class="btn btn-primary">Search</button>
      </form>
      {% if results %}
        <div class="mt-4">
          <h4>Results:</h4>
          <ul class="list-group">
            {% for resident in results %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ resident.first_name }} {{ resident.last_name }} - {{ resident.village }}
                <a href="/edit-resident/{{ resident.id }}" class="btn btn-warning btn-sm">Edit</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      {% if message %}
        <div class="alert alert-warning mt-4" role="alert">
          {{ message }}
        </div>
      {% endif %}
      {% if results is not none and results|length == 0 %}
        <div class="alert alert-info mt-4" role="alert">
          No residents found matching your search criteria.
        </div>
      {% endif %}
  </div>
</body>
</html>